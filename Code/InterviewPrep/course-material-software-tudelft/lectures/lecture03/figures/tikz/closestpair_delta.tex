\begin{figure}[htpb]
\begin{center}
\begin{tikzpicture}[scale=0.4, transform shape]
	\draw (-2,-4) rectangle (2,4);
	
	\only<5->{
		\foreach \y in {-2, ..., 0}{
			\foreach \x in {-2, ..., 1}{
				\draw[fill=green!30] (\x,\y) rectangle (\x+1,\y+1);
			}
		}
	}

	\foreach \x/\y/\name/\color in {
		1.35/-2.4/1/red,
		-1.35/-1.6/2/green,
		-0.4/-0.4/3/blue,
		1.3/0.5/4/blue,
	%	1.7/1.4/5/red,
		-0.4/2.4/5/red,
		0.3/2.4/6/red}{
		\alt<4->{
		\node[circle, black, draw, fill=\color!30, minimum size=4pt] () at (\x,\y) {\name};
			}{
		\node[circle, black, draw, fill=blue!30, minimum size=4pt] () at (\x,\y) {\name};
		}
	}
		\draw[thick] (0,-4) -- (0,4);
		\node at (0, -4.5) {\Large $L$};
		\node at (-2, -4.5) {\Large $L-\delta$};
		\node at (2, -4.5) {\Large $L+\delta$};
		\only<3->{
			\draw[dotted] (1,-4) -- (1,4);
			\draw[dotted] (-1,-4) -- (-1,4);

			\foreach \y in {-3, ..., 3}{
				\draw[dotted] (-2,\y) -- (2,\y);
			}
		}

\end{tikzpicture}
\end{center}
\end{figure}
