%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\begin{frame}[fragile]\frametitle{}
\begin{center}
{\Large Installation}

% {\tiny (Ref: https://rasa.com/docs/core/installation/)}
\end{center}
\end{frame}

% %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
 % \begin{frame}[fragile]\frametitle{Prerequisites}
% \begin{itemize}
% \item Python
% \item Spacy
% \item Rasa Starter Pack
% \item Rasa NLU
% \item Rasa Core
% \item Slack credentials (for Slack as front-end)
% \end{itemize}
% \end{frame}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
 \begin{frame}[fragile]\frametitle{Python}
\begin{itemize}
\item Install Anaconda for Python 3.7 %4.2.0 for Python 3.5 or Ananconda 5.2.0 for Python 3.6 
\item Else from Python.org and then additionally all requisite libraries
\item Ubuntu : 
\begin{lstlisting}
sudo apt-get install build-essential python-dev git
\end{lstlisting}
\item Windows Build tools: Make sure the Microsoft $VC++$ Compiler Visual Studio 2015 is installed, so python can compile any dependencies or https://visualstudio.microsoft.com/visual-cpp-build-tools/ Download the installer and select VC++ Build tools in the list.
\end{itemize}

% (Note: On main page of Anaconda is https://www.anaconda.com/distribution/ you see Python 3.7, which is problematic, gives HTTP error while creating env. I had to delete 3.7 and get 3.6. Btw, this site does not mention which Anaconda installer has which Python version. WHY? thats the most crucial info. Anyway, I have given them here.)

\end{frame}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
 \begin{frame}[fragile]\frametitle{Conda Installation}
\begin{itemize}
\item Install the Conda(miniconda) from https://docs.conda.io/en/latest/miniconda.html as per the OS
\item Check the Conda version \lstinline|conda --version| conda 4.7.10
\item In case need to upgrade, run below command \lstinline|conda update conda|
\end{itemize}
\end{frame}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
 \begin{frame}[fragile]\frametitle{Setup in Virtual Environment}
\begin{itemize}
\item By installing conda, you get base or the root environment, which is the default.
\item Practical tip: DO NOT install any packages in the root. ALWAYS create and env and install inside the new env.
\item Env is needed especially for fragile packages like Python (its treated as a package) and rasa.
\item So, \lstinline|conda create -n rasa_env python=3.7| 
\item Python 3.6 as different asyncio format, so better to do it in 3.7
\item Activate the new environment to use it
\begin{lstlisting}
LINUX, macOS: conda activate rasa
WINDOWS: activate rasa
\end{lstlisting}
\end{itemize}

(Note: Env management is again a sour point. It creates complete copy (deeeep) of python 3.7 and all other packages inside "envs" folder. Goes to 1.5 GB!! Can someone optimize it?)
\end{frame}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
 \begin{frame}[fragile]\frametitle{Rasa Installation}
\begin{itemize}
\item Install latest Rasa stack.
\item Rasa NLU $+$ Core is now in the single package. Do not install them separately like in past. Your mileage may vary.
\item \lstinline|pip install rasa|
\end{itemize}

If you get Microsoft Build tool error:
\begin{itemize}
\item Go to https://visualstudio.microsoft.com/downloads/\#build-tools-for-visual-studio-2017
\item Build tools for Visual Studio 19 are fine too. Select only $C++$ Build tools. Install.
\item Re-run rasa install command
\end{itemize}
 
\end{frame}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
 \begin{frame}[fragile]\frametitle{Spacy Installation}
 Additionally, spaCy:
\begin{lstlisting}
pip install rasa[spacy]
python -m spacy download en
python -m spacy download en_core_web_md
python -m spacy link en_core_web_md en
\end{lstlisting}

If you get linking permission error:
\begin{itemize}
\item Run cmd as administrator, 
\item Activate rasa\_env
\item Do all the above spacy commands.
\end{itemize}
 
\end{frame}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
 \begin{frame}[fragile]\frametitle{Other Installations}
To show conda envs in notebook \lstinline|conda install nb_conda_kernels|

Apart from this, may need to
\begin{itemize}
\item \lstinline|pip install nest_asyncio|
\item Write following code to test, in ipynb put this in the first cell
\end{itemize}


\begin{lstlisting}
import nest_asyncio

nest_asyncio.apply()
print("Event loop ready.")
\end{lstlisting}

Some more (optional):
\begin{itemize}
\item Download and install ngrok from https://ngrok.com/download
\item Need to have API keys for Slack, CRICINFO, ZOMATO, etc
\end{itemize}
 
\end{frame}

% %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
 % \begin{frame}[fragile]\frametitle{Spacy}
% If not done already, Spacy Installation: https://spacy.io/usage/
% \begin{itemize}
% \item Pip
% \begin{lstlisting}
% pip install -U spacy
% \end{lstlisting}
% \item Conda
% \begin{lstlisting}
% conda install -c conda-forge spacy
% \end{lstlisting}
% \item (Optional) Download English model (in CMD terminal with Administrator permission)
% \begin{lstlisting}
% python -m spacy download en
% \end{lstlisting}
% \item Validate
% \begin{lstlisting}
% python -m spacy validate
% \end{lstlisting}
% \end{itemize}
% \end{frame}
